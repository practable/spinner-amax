{"remainingRequest":"/home/david/practable/spinner-amax/ui/node_modules/babel-loader/lib/index.js!/home/david/practable/spinner-amax/ui/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/david/practable/spinner-amax/ui/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/david/practable/spinner-amax/ui/src/components/Clock.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/david/practable/spinner-amax/ui/src/components/Clock.vue","mtime":1653472124341},{"path":"/home/david/practable/spinner-amax/ui/babel.config.js","mtime":1653472124337},{"path":"/home/david/practable/spinner-amax/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/david/practable/spinner-amax/ui/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/david/practable/spinner-amax/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/david/practable/spinner-amax/ui/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDbG9jaycsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGN1cnJlbnRfdGltZTogJycsCiAgICAgIC8vaW4gY2xvY2sgZm9ybWF0CiAgICAgIGN1cnJlbnRfdGltZV9sZWZ0OiAnJywKICAgICAgLy9pbiBtaW51dGVzIGFuZCBzZWNvbmRzCiAgICAgIGludGVydmFsX2lkOiAwCiAgICB9OwogIH0sCiAgY29tcG9uZW50czoge30sCiAgY29tcHV0ZWQ6IHsKICAgIHNlc3Npb25FbmRUaW1lOiBmdW5jdGlvbiBzZXNzaW9uRW5kVGltZSgpIHsKICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldEV4cGlyeVRpbWUgKiAxMDAwKTsKICAgICAgcmV0dXJuIHRoaXMuZ2V0VGltZShkYXRlKTsKICAgIH0KICB9LAogIHdhdGNoOiB7fSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge30sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5pbnRlcnZhbF9pZCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMudXBkYXRlQ2xvY2soKTsKICAgIH0sIDEwMDApOwogIH0sCiAgbWV0aG9kczogewogICAgYWRkWmVyb2VzOiBmdW5jdGlvbiBhZGRaZXJvZXModmFsdWUpIHsKICAgICAgaWYgKHZhbHVlIDwgMTApIHsKICAgICAgICByZXR1cm4gIjAiICsgdmFsdWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHZhbHVlOwogICAgICB9CiAgICB9LAogICAgdXBkYXRlQ2xvY2s6IGZ1bmN0aW9uIHVwZGF0ZUNsb2NrKCkgewogICAgICAvL2dldCB0aGUgbmV3IGRhdGUKICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpOyAvL3VzZSB0aGlzIHRvIGdldCB0aW1lIGluIGZvcm1hdCBoaDptbTpzcwoKICAgICAgdGhpcy5jdXJyZW50X3RpbWUgPSB0aGlzLmdldFRpbWUoZGF0ZSk7IC8vZ2V0IHRoZSB0aW1lIGxlZnQgdG8gZ28gaW4gbW06c3MKCiAgICAgIHRoaXMuY3VycmVudF90aW1lX2xlZnQgPSB0aGlzLmdldFRpbWVMZWZ0KGRhdGUpOwogICAgfSwKICAgIGdldFRpbWU6IGZ1bmN0aW9uIGdldFRpbWUoZGF0ZSkgewogICAgICB2YXIgaG91ciA9IGRhdGUuZ2V0SG91cnMoKTsKICAgICAgdmFyIG1pbiA9IGRhdGUuZ2V0TWludXRlcygpOwogICAgICB2YXIgc2VjID0gZGF0ZS5nZXRTZWNvbmRzKCk7CiAgICAgIGhvdXIgPSB0aGlzLmFkZFplcm9lcyhob3VyKTsKICAgICAgbWluID0gdGhpcy5hZGRaZXJvZXMobWluKTsKICAgICAgc2VjID0gdGhpcy5hZGRaZXJvZXMoc2VjKTsKICAgICAgcmV0dXJuIGhvdXIgKyAiOiIgKyBtaW4gKyAiOiIgKyBzZWM7CiAgICB9LAogICAgZ2V0VGltZUxlZnQ6IGZ1bmN0aW9uIGdldFRpbWVMZWZ0KGRhdGUpIHsKICAgICAgdmFyIGludGVydmFsID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRFeHBpcnlUaW1lICogMTAwMCAtIGRhdGUuZ2V0VGltZSgpOyAvL2luIG1pbGxpc2Vjb25kcwoKICAgICAgdmFyIHNlY29uZHMgPSBpbnRlcnZhbCAvIDEwMDAuMDsKICAgICAgdmFyIG1pbnV0ZXMgPSBNYXRoLmZsb29yKHNlY29uZHMgLyA2MCk7IC8vbnVtYmVyIG9mIGZ1bGwgbWludXRlcwoKICAgICAgc2Vjb25kcyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAlIDYwKTsgLy9yZW1haW5pbmcgc2Vjb25kcwoKICAgICAgbWludXRlcyA9IHRoaXMuYWRkWmVyb2VzKG1pbnV0ZXMpOwogICAgICBzZWNvbmRzID0gdGhpcy5hZGRaZXJvZXMoc2Vjb25kcyk7CgogICAgICBpZiAoaW50ZXJ2YWwgPiAwKSB7CiAgICAgICAgcmV0dXJuIG1pbnV0ZXMgKyAiIG1pbiA6ICIgKyBzZWNvbmRzICsgIiBzZWNzIjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc2V0U2Vzc2lvbkV4cGlyZWQnLCB0cnVlKTsKICAgICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxfaWQpOwogICAgICAgIHJldHVybiAnRU5ERUQnOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/home/david/practable/spinner-amax/ui/src/components/Clock.vue"],"names":[],"mappings":"AAQA,eAAe;AAEb,EAAA,IAAI,EAAE,OAFO;AAGb,EAAA,IAHa,kBAGL;AACN,WAAO;AACH,MAAA,YAAY,EAAE,EADX;AACyB;AAC5B,MAAA,iBAAiB,EAAE,EAFhB;AAEyB;AAC5B,MAAA,WAAW,EAAE;AAHV,KAAP;AAKD,GATY;AAUb,EAAA,UAAU,EAAE,EAVC;AAab,EAAA,QAAQ,EAAC;AACL,IAAA,cADK,4BACW;AACZ,UAAI,IAAG,GAAI,IAAI,IAAJ,CAAS,KAAK,MAAL,CAAY,OAAZ,CAAoB,aAApB,GAAkC,IAA3C,CAAX;AACA,aAAO,KAAK,OAAL,CAAa,IAAb,CAAP;AACJ;AAJK,GAbI;AAmBb,EAAA,KAAK,EAAC,EAnBO;AAsBb,EAAA,OAtBa,qBAsBJ,CAER,CAxBY;AAyBb,EAAA,OAzBa,qBAyBJ;AAAA;;AACL,SAAK,WAAL,GAAmB,WAAW,CAAC,YAAM;AACjC,MAAA,KAAI,CAAC,WAAL;AACH,KAF6B,EAE3B,IAF2B,CAA9B;AAIH,GA9BY;AA+Bb,EAAA,OAAO,EAAE;AACL,IAAA,SADK,qBACK,KADL,EACW;AACZ,UAAG,KAAI,GAAI,EAAX,EAAc;AACV,eAAO,MAAM,KAAb;AACJ,OAFA,MAEO;AACH,eAAO,KAAP;AACJ;AACH,KAPI;AAQL,IAAA,WARK,yBAQQ;AACT;AACA,UAAI,IAAG,GAAI,IAAI,IAAJ,EAAX,CAFS,CAGT;;AACA,WAAK,YAAL,GAAoB,KAAK,OAAL,CAAa,IAAb,CAApB,CAJS,CAKT;;AACA,WAAK,iBAAL,GAAyB,KAAK,WAAL,CAAiB,IAAjB,CAAzB;AACH,KAfI;AAgBL,IAAA,OAhBK,mBAgBG,IAhBH,EAgBQ;AAET,UAAI,IAAG,GAAI,IAAI,CAAC,QAAL,EAAX;AACA,UAAI,GAAE,GAAI,IAAI,CAAC,UAAL,EAAV;AACA,UAAI,GAAE,GAAI,IAAI,CAAC,UAAL,EAAV;AAEA,MAAA,IAAG,GAAI,KAAK,SAAL,CAAe,IAAf,CAAP;AACA,MAAA,GAAE,GAAI,KAAK,SAAL,CAAe,GAAf,CAAN;AACA,MAAA,GAAE,GAAI,KAAK,SAAL,CAAe,GAAf,CAAN;AAEA,aAAO,IAAG,GAAI,GAAP,GAAa,GAAb,GAAmB,GAAnB,GAAyB,GAAhC;AACH,KA3BI;AA4BL,IAAA,WA5BK,uBA4BO,IA5BP,EA4BY;AACb,UAAI,QAAO,GAAI,KAAK,MAAL,CAAY,OAAZ,CAAoB,aAApB,GAAkC,IAAlC,GAAyC,IAAI,CAAC,OAAL,EAAxD,CADa,CACiE;;AAC9E,UAAI,OAAM,GAAI,QAAO,GAAI,MAAzB;AACA,UAAI,OAAM,GAAI,IAAI,CAAC,KAAL,CAAW,OAAO,GAAC,EAAnB,CAAd,CAHa,CAG6B;;AAC1C,MAAA,OAAM,GAAI,IAAI,CAAC,KAAL,CAAW,OAAM,GAAI,EAArB,CAAV,CAJa,CAIqC;;AAElD,MAAA,OAAM,GAAI,KAAK,SAAL,CAAe,OAAf,CAAV;AACA,MAAA,OAAM,GAAI,KAAK,SAAL,CAAe,OAAf,CAAV;;AAEA,UAAG,QAAO,GAAI,CAAd,EAAgB;AACZ,eAAO,OAAM,GAAI,SAAV,GAAsB,OAAtB,GAAgC,OAAvC;AACJ,OAFA,MAEO;AACH,aAAK,MAAL,CAAY,QAAZ,CAAqB,mBAArB,EAA0C,IAA1C;AACA,QAAA,aAAa,CAAC,KAAK,WAAN,CAAb;AACA,eAAO,OAAP;AACJ;AAEJ;AA7CK;AA/BI,CAAf","sourcesContent":["//Vue3 update\n\n<template>\n    <div class='text-dark' id='sessionTime'> Session ends in: {{current_time_left}}</div>\n</template>\n\n<script>\n\nexport default {\n\n  name: 'Clock',\n  data () {\n    return {\n        current_time: '',           //in clock format\n        current_time_left: '',      //in minutes and seconds\n        interval_id: 0,\n    }\n  },\n  components: {\n    \n  },\n  computed:{\n      sessionEndTime(){\n          let date = new Date(this.$store.getters.getExpiryTime*1000);\n          return this.getTime(date);\n      }\n  },\n  watch:{\n      \n  },\n  created(){\n      \n  },\n  mounted(){\n      this.interval_id = setInterval(() => {\n          this.updateClock() \n      }, 1000);\n\n  },\n  methods: {\n      addZeroes(value){\n          if(value < 10){\n              return \"0\" + value;\n          } else {\n              return value;\n          }\n      },\n      updateClock(){\n          //get the new date\n          let date = new Date();\n          //use this to get time in format hh:mm:ss\n          this.current_time = this.getTime(date);\n          //get the time left to go in mm:ss\n          this.current_time_left = this.getTimeLeft(date);\n      },\n      getTime(date){\n          \n          let hour = date.getHours();\n          let min = date.getMinutes();\n          let sec = date.getSeconds();\n\n          hour = this.addZeroes(hour);\n          min = this.addZeroes(min);\n          sec = this.addZeroes(sec);\n\n          return hour + \":\" + min + \":\" + sec;\n      },\n      getTimeLeft(date){\n          let interval = this.$store.getters.getExpiryTime*1000 - date.getTime();       //in milliseconds\n          let seconds = interval / 1000.0;\n          let minutes = Math.floor(seconds/60);     //number of full minutes\n          seconds = Math.floor(seconds % 60);               //remaining seconds\n\n          minutes = this.addZeroes(minutes);\n          seconds = this.addZeroes(seconds);\n\n          if(interval > 0){\n              return minutes + \" min : \" + seconds + \" secs\"; \n          } else {\n              this.$store.dispatch('setSessionExpired', true);\n              clearInterval(this.interval_id);\n              return 'ENDED'\n          }\n          \n      }\n      \n  }\n}\n</script>\n\n<style scoped>\n#sessionTime{\n    font-style: italic;\n    color: white;\n}\n\n</style>"],"sourceRoot":""}]}