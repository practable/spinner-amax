{"remainingRequest":"/home/david/spinner-amax/ui/node_modules/babel-loader/lib/index.js!/home/david/spinner-amax/ui/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/david/spinner-amax/ui/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/david/spinner-amax/ui/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/david/spinner-amax/ui/src/components/LoggingStream.vue?vue&type=template&id=912e5f82","dependencies":[{"path":"/home/david/spinner-amax/ui/src/components/LoggingStream.vue","mtime":1653472124341},{"path":"/home/david/spinner-amax/ui/babel.config.js","mtime":1653472124337},{"path":"/home/david/spinner-amax/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/david/spinner-amax/ui/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/david/spinner-amax/ui/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/home/david/spinner-amax/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/david/spinner-amax/ui/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sgfSBmcm9tICJ2dWUiOwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X2xvZ2dpbmcgPSBfcmVzb2x2ZUNvbXBvbmVudCgibG9nZ2luZyIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBudWxsLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfbG9nZ2luZywgewogICAgdXJsOiBfY3R4LmdldExvZ1VSTAogIH0sIG51bGwsIDgKICAvKiBQUk9QUyAqLwogICwgWyJ1cmwiXSldKTsKfQ=="},{"version":3,"sources":["/home/david/spinner-amax/ui/src/components/LoggingStream.vue"],"names":[],"mappings":";;;;uBAII,mBAAA,CAEG,KAFH,EAEG,IAFH,EAEG,CADL,YAAA,CAA2B,kBAA3B,EAA2B;AAAjB,IAAA,GAAG,EAAE,IAAA,CAAA;AAAY,GAA3B,EAAwB,IAAxB,EAAwB;AAAA;AAAxB,IAAwB,CAAA,KAAA,CAAxB,CACK,CAFH,C","sourcesContent":["//vue3 update\n\n<template>\n\n    <div>\n\t\t<logging :url=\"getLogURL\"/>\n\t</div>\n\n</template>\n\n<script>\nimport axios from \"axios\";\nimport Logging from \"./Logging.vue\";\nimport { mapGetters } from 'vuex';\n\nexport default {\n\tname: \"LoggingStream\",\n\tcomponents:{\n        Logging,\n\t},\n    data(){\n        return{\n\t\t\tstream: Object,\n        }\n    },\n\tmounted(){\n\t\t//make second and subsequent connections\n\t\tdocument.addEventListener(\"streams:dropped\", this.getWebsocketConnection);\n\t},\n    computed:{\n\t\t...mapGetters([\n\t\t\t'getLogURLObtained',\n\t\t\t'getLogURL',\n        ]),\n\t\tstreamOK(){\n\t\t\treturn this.$store.getters.getStream(\"log\");\n\t\t},\n\t\t\n\t},\n\twatch:{\n\t\tstreamOK: function(is) {\n\t\t\tif (is) {\n\t\t\t\tthis.getWebsocketConnection();\n\t\t\t} else {\n\t\t\t\tconsole.log(\"no log stream\");\n\t\t\t}\n\t\t},\n\t\tgetLogURLObtained(is) {\n\t\t\tif (is) {\n\t\t\t\tconsole.log(\"get logURL\", this.getLogURLObtained, this.getLogURL);\n\t\t\t}\n\t\t},\n\n\t},\n\tmethods:{\n\t\tgetWebsocketConnection(){\n\t\t\tthis.stream = this.$store.getters.getStream(\"log\");\n\t\t\tvar accessURL = this.stream.url;\n\t\t\tvar token = this.stream.token;\n\t\t\tlet _this = this;\n\t\t\tthis.$store.dispatch(\"deleteLogURL\");\n\t\t\taxios\n\t\t\t.post(accessURL, {}, { headers: { Authorization: token } })\n\t\t\t.then((response) => {\n\t\t\t\t_this.$store.dispatch(\"setLogURL\", response.data.uri);\n\t\t\t})\n\t\t\t.catch((err) => console.log(err));\n\t\t}\n\t},\n\t\n\t\n}\n\n\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":""}]}