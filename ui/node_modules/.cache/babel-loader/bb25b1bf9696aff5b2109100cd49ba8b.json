{"remainingRequest":"/home/david/spinner-amax/ui/node_modules/babel-loader/lib/index.js!/home/david/spinner-amax/ui/node_modules/eslint-loader/index.js??ref--14-0!/home/david/spinner-amax/ui/src/modules/commandStore.js","dependencies":[{"path":"/home/david/spinner-amax/ui/src/modules/commandStore.js","mtime":1653475502481},{"path":"/home/david/spinner-amax/ui/babel.config.js","mtime":1653472124337},{"path":"/home/david/spinner-amax/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/david/spinner-amax/ui/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/david/spinner-amax/ui/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwovL1N0b3JlIGZvciBzZW5kaW5nIGNvbW1hbmRzIHRocm91Z2ggdGhlIGRhdGFTb2NrZXQKdmFyIGNvbW1hbmRTdG9yZSA9IHsKICBzdGF0ZTogZnVuY3Rpb24gc3RhdGUoKSB7CiAgICByZXR1cm4gewogICAgICBkYXRhU29ja2V0OiBudWxsLAogICAgICBjdXJyZW50TW9kZTogJycKICAgIH07CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIFNFVF9EQVRBX1NPQ0tFVDogZnVuY3Rpb24gU0VUX0RBVEFfU09DS0VUKHN0YXRlLCBzb2NrZXQpIHsKICAgICAgc3RhdGUuZGF0YVNvY2tldCA9IHNvY2tldDsKICAgIH0sCiAgICBTVE9QOiBmdW5jdGlvbiBTVE9QKHN0YXRlKSB7CiAgICAgIHN0YXRlLmN1cnJlbnRNb2RlID0gJ3N0b3BwZWQnOwoKICAgICAgaWYgKHN0YXRlLmRhdGFTb2NrZXQgIT0gbnVsbCkgewogICAgICAgIHN0YXRlLmRhdGFTb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICBzZXQ6ICJtb2RlIiwKICAgICAgICAgIHRvOiAic3RvcCIKICAgICAgICB9KSk7CiAgICAgIH0KICAgIH0sCiAgICBXQUlUOiBmdW5jdGlvbiBXQUlUKHN0YXRlKSB7CiAgICAgIGlmIChzdGF0ZS5kYXRhU29ja2V0ICE9IG51bGwpIHsKICAgICAgICBzdGF0ZS5kYXRhU29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgc2V0OiAibW9kZSIsCiAgICAgICAgICB0bzogIndhaXQiCiAgICAgICAgfSkpOwogICAgICB9CiAgICB9LAogICAgU1BFRURfUkFXOiBmdW5jdGlvbiBTUEVFRF9SQVcoc3RhdGUpIHsKICAgICAgaWYgKHN0YXRlLmRhdGFTb2NrZXQgIT0gbnVsbCkgewogICAgICAgIHN0YXRlLmN1cnJlbnRNb2RlID0gJ3NwZWVkUmF3JzsKICAgICAgICBzdGF0ZS5kYXRhU29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgc2V0OiAibW9kZSIsCiAgICAgICAgICB0bzogIm1vdG9yIgogICAgICAgIH0pKTsKICAgICAgfQogICAgfSwKICAgIFNQRUVEX1BJRDogZnVuY3Rpb24gU1BFRURfUElEKHN0YXRlKSB7CiAgICAgIGlmIChzdGF0ZS5kYXRhU29ja2V0ICE9IG51bGwpIHsKICAgICAgICBzdGF0ZS5jdXJyZW50TW9kZSA9ICdzcGVlZFBpZCc7CiAgICAgICAgc3RhdGUuZGF0YVNvY2tldC5zZW5kKEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgIHNldDogIm1vZGUiLAogICAgICAgICAgdG86ICJ2ZWxvY2l0eSIKICAgICAgICB9KSk7CiAgICAgIH0KICAgIH0sCiAgICBQT1NJVElPTl9QSUQ6IGZ1bmN0aW9uIFBPU0lUSU9OX1BJRChzdGF0ZSkgewogICAgICBpZiAoc3RhdGUuZGF0YVNvY2tldCAhPSBudWxsKSB7CiAgICAgICAgc3RhdGUuY3VycmVudE1vZGUgPSAncG9zaXRpb25QaWQnOwogICAgICAgIHN0YXRlLmRhdGFTb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICBzZXQ6ICJtb2RlIiwKICAgICAgICAgIHRvOiAicG9zaXRpb24iCiAgICAgICAgfSkpOwogICAgICB9CiAgICB9LAogICAgU0VUX1ZPTFRBR0U6IGZ1bmN0aW9uIFNFVF9WT0xUQUdFKHN0YXRlLCB2YWx1ZSkgewogICAgICBpZiAoc3RhdGUuZGF0YVNvY2tldCAhPSBudWxsKSB7CiAgICAgICAgc3RhdGUuZGF0YVNvY2tldC5zZW5kKEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgIHNldDogInZvbHRzIiwKICAgICAgICAgIHRvOiB2YWx1ZQogICAgICAgIH0pKTsKICAgICAgfQogICAgfSwKICAgIFNFVF9WT0xUQUdFX1JBTVA6IGZ1bmN0aW9uIFNFVF9WT0xUQUdFX1JBTVAoc3RhdGUsIHZhbHVlKSB7CiAgICAgIGlmIChzdGF0ZS5kYXRhU29ja2V0ICE9IG51bGwpIHsKICAgICAgICBzdGF0ZS5kYXRhU29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgc2V0OiAidm9sdHNfcmFtcCIsCiAgICAgICAgICB0bzogdmFsdWUKICAgICAgICB9KSk7CiAgICAgIH0KICAgIH0sCiAgICBTRVRfU1BFRUQ6IGZ1bmN0aW9uIFNFVF9TUEVFRChzdGF0ZSwgdmFsdWUpIHsKICAgICAgaWYgKHN0YXRlLmRhdGFTb2NrZXQgIT0gbnVsbCkgewogICAgICAgIHN0YXRlLmRhdGFTb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICBzZXQ6ICJ2ZWxvY2l0eSIsCiAgICAgICAgICB0bzogdmFsdWUKICAgICAgICB9KSk7CiAgICAgIH0KICAgIH0sCiAgICBTRVRfU1BFRURfUkFNUDogZnVuY3Rpb24gU0VUX1NQRUVEX1JBTVAoc3RhdGUsIHZhbHVlKSB7CiAgICAgIGlmIChzdGF0ZS5kYXRhU29ja2V0ICE9IG51bGwpIHsKICAgICAgICBzdGF0ZS5kYXRhU29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgc2V0OiAidmVsb2NpdHlfcmFtcCIsCiAgICAgICAgICB0bzogdmFsdWUKICAgICAgICB9KSk7CiAgICAgIH0KICAgIH0sCiAgICBTRVRfUE9TSVRJT046IGZ1bmN0aW9uIFNFVF9QT1NJVElPTihzdGF0ZSwgdmFsdWUpIHsKICAgICAgaWYgKHN0YXRlLmRhdGFTb2NrZXQgIT0gbnVsbCkgewogICAgICAgIHN0YXRlLmRhdGFTb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICBzZXQ6ICJwb3NpdGlvbiIsCiAgICAgICAgICB0bzogdmFsdWUKICAgICAgICB9KSk7CiAgICAgIH0KICAgIH0sCiAgICBTRVRfUE9TSVRJT05fUkFNUDogZnVuY3Rpb24gU0VUX1BPU0lUSU9OX1JBTVAoc3RhdGUsIHZhbHVlKSB7CiAgICAgIGlmIChzdGF0ZS5kYXRhU29ja2V0ICE9IG51bGwpIHsKICAgICAgICBzdGF0ZS5kYXRhU29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgc2V0OiAicG9zaXRpb25fcmFtcCIsCiAgICAgICAgICB0bzogdmFsdWUKICAgICAgICB9KSk7CiAgICAgIH0KICAgIH0sCiAgICBTRVRfUElEX1BBUkFNRVRFUlM6IGZ1bmN0aW9uIFNFVF9QSURfUEFSQU1FVEVSUyhzdGF0ZSwgcGFyYW1zKSB7CiAgICAgIGlmIChzdGF0ZS5kYXRhU29ja2V0ICE9IG51bGwpIHsKICAgICAgICBzdGF0ZS5kYXRhU29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgInNldCI6ICJwYXJhbWV0ZXJzIiwKICAgICAgICAgICJrcCI6IHBhcmFtcy5rcCwKICAgICAgICAgICJraSI6IHBhcmFtcy5raSwKICAgICAgICAgICJrZCI6IHBhcmFtcy5rZAogICAgICAgIH0pKTsKICAgICAgfQogICAgfSwKICAgIFNFVF9DVVJSRU5UX01PREU6IGZ1bmN0aW9uIFNFVF9DVVJSRU5UX01PREUoc3RhdGUsIG1vZGUpIHsKICAgICAgc3RhdGUuY3VycmVudE1vZGUgPSBtb2RlOwogICAgfSwKICAgIFNFVF9MUEZfQ09FRkZJQ0lFTlRTOiBmdW5jdGlvbiBTRVRfTFBGX0NPRUZGSUNJRU5UUyhzdGF0ZSwgY29lZmZzKSB7CiAgICAgIGNvbnNvbGUubG9nKCdzZW5kaW5nIExQRiBjb2VmZnMnKTsKICAgICAgY29uc29sZS5sb2coY29lZmZzLmxwZl9hLCBjb2VmZnMubHBmX2IpOwoKICAgICAgaWYgKHN0YXRlLmRhdGFTb2NrZXQgIT0gbnVsbCkgewogICAgICAgIHN0YXRlLmRhdGFTb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAic2V0IjogInBhcmFtZXRlcnMiLAogICAgICAgICAgImxwZl9hIjogY29lZmZzLmxwZl9hLAogICAgICAgICAgImxwZl9iIjogY29lZmZzLmxwZl9iCiAgICAgICAgfSkpOwogICAgICB9CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBzZXREYXRhU29ja2V0OiBmdW5jdGlvbiBzZXREYXRhU29ja2V0KGNvbnRleHQsIHNvY2tldCkgewogICAgICBjb250ZXh0LmNvbW1pdCgiU0VUX0RBVEFfU09DS0VUIiwgc29ja2V0KTsKICAgIH0sCiAgICBzdG9wOiBmdW5jdGlvbiBzdG9wKGNvbnRleHQpIHsKICAgICAgY29udGV4dC5jb21taXQoJ1NUT1AnKTsKICAgIH0sCiAgICB3YWl0OiBmdW5jdGlvbiB3YWl0KGNvbnRleHQpIHsKICAgICAgY29udGV4dC5jb21taXQoJ1dBSVQnKTsKICAgIH0sCiAgICBzcGVlZFJhdzogZnVuY3Rpb24gc3BlZWRSYXcoY29udGV4dCkgewogICAgICBjb250ZXh0LmNvbW1pdCgnU1BFRURfUkFXJyk7CiAgICB9LAogICAgc3BlZWRQaWQ6IGZ1bmN0aW9uIHNwZWVkUGlkKGNvbnRleHQpIHsKICAgICAgY29udGV4dC5jb21taXQoJ1NQRUVEX1BJRCcpOwogICAgfSwKICAgIHBvc2l0aW9uUGlkOiBmdW5jdGlvbiBwb3NpdGlvblBpZChjb250ZXh0KSB7CiAgICAgIGNvbnRleHQuY29tbWl0KCdQT1NJVElPTl9QSUQnKTsKICAgIH0sCiAgICBzZXRWb2x0YWdlOiBmdW5jdGlvbiBzZXRWb2x0YWdlKGNvbnRleHQsIHZhbHVlKSB7CiAgICAgIGNvbnRleHQuY29tbWl0KCdTRVRfVk9MVEFHRScsIHZhbHVlKTsKICAgICAgY29udGV4dC5kaXNwYXRjaCgnbG9nUGFyYW1ldGVycycsIHsKICAgICAgICBsb2c6ICd2b2x0YWdlJywKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBzZXQ6IHZhbHVlCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzZXRWb2x0YWdlUmFtcDogZnVuY3Rpb24gc2V0Vm9sdGFnZVJhbXAoY29udGV4dCwgdmFsdWUpIHsKICAgICAgY29udGV4dC5jb21taXQoJ1NFVF9WT0xUQUdFX1JBTVAnLCB2YWx1ZSk7CiAgICAgIGNvbnRleHQuZGlzcGF0Y2goJ2xvZ1BhcmFtZXRlcnMnLCB7CiAgICAgICAgbG9nOiAndm9sdGFnZV9yYW1wJywKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBzZXQ6IHZhbHVlCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzZXRTcGVlZDogZnVuY3Rpb24gc2V0U3BlZWQoY29udGV4dCwgdmFsdWUpIHsKICAgICAgY29udGV4dC5jb21taXQoJ1NFVF9TUEVFRCcsIHZhbHVlKTsKICAgICAgY29udGV4dC5kaXNwYXRjaCgnbG9nUGFyYW1ldGVycycsIHsKICAgICAgICBsb2c6ICdzcGVlZCcsCiAgICAgICAgZGF0YTogewogICAgICAgICAgc2V0OiB2YWx1ZSwKICAgICAgICAgIGtwOiBjb250ZXh0LnJvb3RTdGF0ZS5kYXRhLnAsCiAgICAgICAgICBraTogY29udGV4dC5yb290U3RhdGUuZGF0YS5pLAogICAgICAgICAga2Q6IGNvbnRleHQucm9vdFN0YXRlLmRhdGEuZAogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc2V0U3BlZWRSYW1wOiBmdW5jdGlvbiBzZXRTcGVlZFJhbXAoY29udGV4dCwgdmFsdWUpIHsKICAgICAgY29udGV4dC5jb21taXQoJ1NFVF9TUEVFRF9SQU1QJywgdmFsdWUpOwogICAgICBjb250ZXh0LmRpc3BhdGNoKCdsb2dQYXJhbWV0ZXJzJywgewogICAgICAgIGxvZzogJ3NwZWVkX3JhbXAnLAogICAgICAgIGRhdGE6IHsKICAgICAgICAgIHNldDogdmFsdWUsCiAgICAgICAgICBrcDogY29udGV4dC5yb290U3RhdGUuZGF0YS5wLAogICAgICAgICAga2k6IGNvbnRleHQucm9vdFN0YXRlLmRhdGEuaSwKICAgICAgICAgIGtkOiBjb250ZXh0LnJvb3RTdGF0ZS5kYXRhLmQKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHNldFBvc2l0aW9uOiBmdW5jdGlvbiBzZXRQb3NpdGlvbihjb250ZXh0LCB2YWx1ZSkgewogICAgICBjb250ZXh0LmNvbW1pdCgnU0VUX1BPU0lUSU9OJywgdmFsdWUpOwogICAgICBjb250ZXh0LmRpc3BhdGNoKCdsb2dQYXJhbWV0ZXJzJywgewogICAgICAgIGxvZzogJ3Bvc2l0aW9uJywKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBzZXQ6IHZhbHVlLAogICAgICAgICAga3A6IGNvbnRleHQucm9vdFN0YXRlLmRhdGEucCwKICAgICAgICAgIGtpOiBjb250ZXh0LnJvb3RTdGF0ZS5kYXRhLmksCiAgICAgICAgICBrZDogY29udGV4dC5yb290U3RhdGUuZGF0YS5kCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzZXRQb3NpdGlvblJhbXA6IGZ1bmN0aW9uIHNldFBvc2l0aW9uUmFtcChjb250ZXh0LCB2YWx1ZSkgewogICAgICBjb250ZXh0LmNvbW1pdCgnU0VUX1BPU0lUSU9OX1JBTVAnLCB2YWx1ZSk7CiAgICAgIGNvbnRleHQuZGlzcGF0Y2goJ2xvZ1BhcmFtZXRlcnMnLCB7CiAgICAgICAgbG9nOiAncG9zaXRpb25fcmFtcCcsCiAgICAgICAgZGF0YTogewogICAgICAgICAgc2V0OiB2YWx1ZSwKICAgICAgICAgIGtwOiBjb250ZXh0LnJvb3RTdGF0ZS5kYXRhLnAsCiAgICAgICAgICBraTogY29udGV4dC5yb290U3RhdGUuZGF0YS5pLAogICAgICAgICAga2Q6IGNvbnRleHQucm9vdFN0YXRlLmRhdGEuZAogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc2V0UGlkUGFyYW1ldGVyczogZnVuY3Rpb24gc2V0UGlkUGFyYW1ldGVycyhjb250ZXh0LCBwYXJhbXMpIHsKICAgICAgY29udGV4dC5jb21taXQoJ1NFVF9QSURfUEFSQU1FVEVSUycsIHBhcmFtcyk7CiAgICAgIGNvbnRleHQuY29tbWl0KCdTRVRfUCcsIHBhcmFtcy5rcCk7IC8vaW4gZGF0YVN0b3JlIG1vZHVsZQoKICAgICAgY29udGV4dC5jb21taXQoJ1NFVF9JJywgcGFyYW1zLmtpKTsKICAgICAgY29udGV4dC5jb21taXQoJ1NFVF9EJywgcGFyYW1zLmtkKTsKICAgIH0sCiAgICBzZXRDdXJyZW50TW9kZTogZnVuY3Rpb24gc2V0Q3VycmVudE1vZGUoY29udGV4dCwgbW9kZSkgewogICAgICBjb250ZXh0LmNvbW1pdCgiU0VUX0NVUlJFTlRfTU9ERSIsIG1vZGUpOwogICAgfSwKICAgIHNldExQRkNvZWZmaWNpZW50czogZnVuY3Rpb24gc2V0TFBGQ29lZmZpY2llbnRzKGNvbnRleHQsIGNvZWZmcykgewogICAgICBjb250ZXh0LmNvbW1pdCgnU0VUX0xQRl9DT0VGRklDSUVOVFMnLCBjb2VmZnMpOwogICAgfQogIH0sCiAgZ2V0dGVyczogewogICAgZ2V0RGF0YVNvY2tldDogZnVuY3Rpb24gZ2V0RGF0YVNvY2tldChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuZGF0YVNvY2tldDsKICAgIH0sCiAgICBnZXRDdXJyZW50TW9kZTogZnVuY3Rpb24gZ2V0Q3VycmVudE1vZGUoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmN1cnJlbnRNb2RlOwogICAgfSwKICAgIGdldE1vZGVOYW1lOiBmdW5jdGlvbiBnZXRNb2RlTmFtZShzdGF0ZSkgewogICAgICBpZiAoc3RhdGUuY3VycmVudE1vZGUgPT0gJ3Bvc2l0aW9uUGlkJykgewogICAgICAgIHJldHVybiAncG9zaXRpb24gKFBJRCknOwogICAgICB9IGVsc2UgaWYgKHN0YXRlLmN1cnJlbnRNb2RlID09ICdzcGVlZFBpZCcpIHsKICAgICAgICByZXR1cm4gJ3ZlbG9jaXR5IChQSUQpJzsKICAgICAgfSBlbHNlIGlmIChzdGF0ZS5jdXJyZW50TW9kZSA9PSAnc3BlZWRSYXcnKSB7CiAgICAgICAgcmV0dXJuICd2b2x0YWdlIChvcGVuIGxvb3ApJzsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gc3RhdGUuY3VycmVudE1vZGU7CiAgICAgIH0KICAgIH0KICB9Cn07CmV4cG9ydCBkZWZhdWx0IGNvbW1hbmRTdG9yZTs="},{"version":3,"sources":["/home/david/spinner-amax/ui/src/modules/commandStore.js"],"names":["commandStore","state","dataSocket","currentMode","mutations","SET_DATA_SOCKET","socket","STOP","send","JSON","stringify","set","to","WAIT","SPEED_RAW","SPEED_PID","POSITION_PID","SET_VOLTAGE","value","SET_VOLTAGE_RAMP","SET_SPEED","SET_SPEED_RAMP","SET_POSITION","SET_POSITION_RAMP","SET_PID_PARAMETERS","params","kp","ki","kd","SET_CURRENT_MODE","mode","SET_LPF_COEFFICIENTS","coeffs","console","log","lpf_a","lpf_b","actions","setDataSocket","context","commit","stop","wait","speedRaw","speedPid","positionPid","setVoltage","dispatch","data","setVoltageRamp","setSpeed","rootState","p","i","d","setSpeedRamp","setPosition","setPositionRamp","setPidParameters","setCurrentMode","setLPFCoefficients","getters","getDataSocket","getCurrentMode","getModeName"],"mappings":"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","sourcesContent":["//Store for sending commands through the dataSocket\n\n\nconst commandStore = {\n    state: () => ({\n        dataSocket: null,\n        currentMode: '',\n\n       }),\n       mutations:{\n        SET_DATA_SOCKET(state, socket){\n            state.dataSocket = socket;\n        },\n        STOP(state){\n            state.currentMode = 'stopped';\n            if(state.dataSocket != null){\n                state.dataSocket.send(JSON.stringify({\n                    set: \"mode\",\n                    to: \"stop\"\n                }));\n            }\n        },\n        WAIT(state){\n            if(state.dataSocket != null){\n                state.dataSocket.send(JSON.stringify({\n                    set: \"mode\",\n                    to: \"wait\"\n                }));\n            }\n        },\n        SPEED_RAW(state){\n            if(state.dataSocket != null){\n                state.currentMode = 'speedRaw';\n                state.dataSocket.send(JSON.stringify({\n                    set: \"mode\",\n                    to: \"motor\"\n                }));\n            }\n            \n        },\n        SPEED_PID(state){\n            if(state.dataSocket != null){\n                state.currentMode = 'speedPid';\n                state.dataSocket.send(JSON.stringify({\n                    set: \"mode\",\n                    to: \"velocity\"\n                }));\n            }\n        },\n        POSITION_PID(state){\n            if(state.dataSocket != null){\n                state.currentMode = 'positionPid';\n                state.dataSocket.send(JSON.stringify({\n                    set: \"mode\",\n                    to: \"position\"\n                }));\n            }\n        },\n        SET_VOLTAGE(state, value){\n            if(state.dataSocket != null){\n                state.dataSocket.send(JSON.stringify({\n                    set: \"volts\",\n                    to: value\n                }));\n            }\n        },\n        SET_VOLTAGE_RAMP(state, value){\n            if(state.dataSocket != null){\n                state.dataSocket.send(JSON.stringify({\n                    set: \"volts_ramp\",\n                    to: value\n                }));\n            }\n        },\n        SET_SPEED(state, value){\n            if(state.dataSocket != null){\n                state.dataSocket.send(JSON.stringify({\n                    set: \"velocity\",\n                    to: value\n                }));\n            }\n        },\n        SET_SPEED_RAMP(state, value){\n            if(state.dataSocket != null){\n                state.dataSocket.send(JSON.stringify({\n                    set: \"velocity_ramp\",\n                    to: value\n                }));\n            }\n        },\n        SET_POSITION(state, value){\n            if(state.dataSocket != null){\n                state.dataSocket.send(JSON.stringify({\n                    set: \"position\",\n                    to: value\n                }));\n            }\n        },\n        SET_POSITION_RAMP(state, value){\n            if(state.dataSocket != null){\n                state.dataSocket.send(JSON.stringify({\n                    set: \"position_ramp\",\n                    to: value\n                }));\n            }\n        },\n        SET_PID_PARAMETERS(state, params){\n            if(state.dataSocket != null){\n                state.dataSocket.send(JSON.stringify({\n                    \"set\": \"parameters\",\n                    \"kp\": params.kp,\n                    \"ki\": params.ki,\n                    \"kd\": params.kd\n                }));\n            }\n        },\n        SET_CURRENT_MODE(state, mode){\n            state.currentMode = mode;\n         },\n         SET_LPF_COEFFICIENTS(state, coeffs){\n             console.log('sending LPF coeffs');\n             console.log(coeffs.lpf_a, coeffs.lpf_b);\n            if(state.dataSocket != null){\n                state.dataSocket.send(JSON.stringify({\n                    \"set\": \"parameters\",\n                    \"lpf_a\": coeffs.lpf_a,\n                    \"lpf_b\": coeffs.lpf_b\n                }));\n            }\n         }\n            \n\n       },\n       actions:{\n        setDataSocket(context, socket){\n            context.commit(\"SET_DATA_SOCKET\", socket);\n        },\n        stop(context){\n            context.commit('STOP');\n        },\n        wait(context){\n            context.commit('WAIT');\n        },\n        speedRaw(context){\n            context.commit('SPEED_RAW');\n        },\n        speedPid(context){\n            context.commit('SPEED_PID');\n        },\n        positionPid(context){\n            context.commit('POSITION_PID');\n        },\n        setVoltage(context, value){\n            context.commit('SET_VOLTAGE', value);\n            context.dispatch('logParameters', {log:'voltage', data: {set: value}});\n        },\n        setVoltageRamp(context, value){\n            context.commit('SET_VOLTAGE_RAMP', value);\n            context.dispatch('logParameters', {log:'voltage_ramp', data: {set: value}});\n        },\n        setSpeed(context, value){\n            context.commit('SET_SPEED', value);\n            context.dispatch('logParameters', {log:'speed', data: {set: value, kp: context.rootState.data.p, ki: context.rootState.data.i, kd: context.rootState.data.d}});\n        },\n        setSpeedRamp(context, value){\n            context.commit('SET_SPEED_RAMP', value);\n            context.dispatch('logParameters', {log:'speed_ramp', data: {set: value, kp: context.rootState.data.p, ki: context.rootState.data.i, kd: context.rootState.data.d}});\n        },\n        setPosition(context, value){\n            context.commit('SET_POSITION', value);\n            context.dispatch('logParameters', {log:'position', data: {set: value, kp: context.rootState.data.p, ki: context.rootState.data.i, kd: context.rootState.data.d}});\n        },\n        setPositionRamp(context, value){\n            context.commit('SET_POSITION_RAMP', value);\n            context.dispatch('logParameters', {log:'position_ramp', data: {set: value, kp: context.rootState.data.p, ki: context.rootState.data.i, kd: context.rootState.data.d}});\n        },\n        setPidParameters(context, params){\n            context.commit('SET_PID_PARAMETERS', params);\n            context.commit('SET_P', params.kp); //in dataStore module\n            context.commit('SET_I', params.ki);\n            context.commit('SET_D', params.kd);\n        },\n        setCurrentMode(context, mode){\n            context.commit(\"SET_CURRENT_MODE\", mode);\n        },\n        setLPFCoefficients(context, coeffs){\n            context.commit('SET_LPF_COEFFICIENTS', coeffs);\n        }\n       },\n       getters:{\n        getDataSocket(state){\n            return state.dataSocket;\n        },\n        getCurrentMode(state){\n            return state.currentMode;\n        },\n        getModeName(state){\n            if(state.currentMode == 'positionPid'){\n                return 'position (PID)';\n            } else if (state.currentMode == 'speedPid'){\n                return 'velocity (PID)';\n            } else if(state.currentMode == 'speedRaw'){\n                return 'voltage (open loop)';\n            } else {\n                return state.currentMode;\n            }\n        },\n          \n       },  \n  \n  }\n\n  export default commandStore;"]}]}