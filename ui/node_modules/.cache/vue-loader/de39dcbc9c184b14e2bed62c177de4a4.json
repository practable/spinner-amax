{"remainingRequest":"/home/david/spinner-amax/ui/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/david/spinner-amax/ui/src/components/RampCommand.vue?vue&type=style&index=0&id=3cf383d2&scoped=true&lang=css","dependencies":[{"path":"/home/david/spinner-amax/ui/src/components/RampCommand.vue","mtime":1653472124341},{"path":"/home/david/spinner-amax/ui/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/david/spinner-amax/ui/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":499162500000},{"path":"/home/david/spinner-amax/ui/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/david/spinner-amax/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/david/spinner-amax/ui/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmlucHV0ewogICAgbWluLXdpZHRoOiAyMCU7CiAgICBtYXgtd2lkdGg6IDUwJTsKfQoKLmVycm9yewogICAgLyogYm9yZGVyOnRoaWNrIHNvbGlkIHJlZCAqLwogICAgYm9yZGVyOiBhdXRvOwp9CgouZXJyb3I6Zm9jdXN7CiAgICAvKiBib3JkZXI6dGhpY2sgc29saWQgcmVkICovCiAgICBib3JkZXI6IGF1dG87Cn0KCiNzZXQgICAgICAge2JhY2tncm91bmQtY29sb3I6IHJnYig3NCwgMjIzLCAzNyk7fQojc2V0OmhvdmVyIHtiYWNrZ3JvdW5kLWNvbG9yOiAjMGI3ZTBmfSAKCiNydW4gICAgICAge2JhY2tncm91bmQtY29sb3I6ICByZ2IoNzQsIDIyMywgMzcpO30KI3J1bjpob3ZlciB7YmFja2dyb3VuZC1jb2xvcjogIzBiN2UwZn0gCgoK"},{"version":3,"sources":["/home/david/spinner-amax/ui/src/components/RampCommand.vue"],"names":[],"mappings":";AAmHA,CAAC,CAAC,CAAC,CAAC,CAAC;IACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAClB;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACF,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC;IAC3B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAChB;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACR,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC;IAC3B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAChB;;AAEA,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAC/C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;AAErC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAChD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/home/david/spinner-amax/ui/src/components/RampCommand.vue","sourceRoot":"","sourcesContent":["//vue3 update\n//Firmware has been updated to include a ramp function\n//This component now just needs to send a slightly different command to the firmware.\n\n<template>\n    <div class=\"row d-flex justify-content-center m-4\" @mousedown=\"setDraggable(false)\" @mouseup=\"setDraggable(true)\">  \n            <div class='col-auto'>\n                <div class='input-group' v-if='mode == \"speedRaw\"'>\n                    <span class='input-group-text' for=\"ramp_gradient\"><b>Ramp gradient (Vs<sup>-1</sup>)</b></span>\n                    <input type=\"number\" :max='max_voltage_ramp' :min='-max_voltage_ramp' :class=\"(parseFloat(ramp_gradient) >= -max_voltage_ramp && parseFloat(ramp_gradient) <= max_voltage_ramp) ? 'form-control' : 'form-control is-invalid'\" id=\"ramp_gradient\" v-model=\"ramp_gradient\">\n                    <button class='btn btn-lg' id=\"run\" v-if='!isRampRunning' @click=\"runRamp\">Run</button>\n                    <button class='btn btn-lg btn-danger' v-else id=\"stop\" @click=\"stopRamp\">Stop</button>\n                </div>\n\n                <div class='input-group' v-else-if='mode == \"speedPid\"'>\n                    <span class='input-group-text' for=\"ramp_gradient\"><b>Ramp gradient (rads<sup>-2</sup>)</b></span>\n                     <input type=\"number\" :max='max_speed_ramp' :min='-max_speed_ramp' :class=\"(parseFloat(ramp_gradient) >= -max_speed_ramp && parseFloat(ramp_gradient) <= max_speed_ramp) ? 'form-control' : 'form-control is-invalid'\" id=\"ramp_gradient\" v-model=\"ramp_gradient\">\n                     <button class='btn btn-lg' id=\"run\" v-if='!isRampRunning' @click=\"runRamp\">Run</button>\n                     <button class='btn btn-lg btn-danger' v-else id=\"stop\" @click=\"stopRamp\">Stop</button>\n                </div>\n\n                <div class='input-group' v-else-if='mode == \"positionPid\"'>\n                    <span class='input-group-text' for=\"ramp_gradient\"><b>Ramp gradient (rads<sup>-1</sup>)</b></span>\n                    <input type=\"number\" :max='max_position_ramp' :min='-max_position_ramp' :class=\"(parseFloat(ramp_gradient) >= -max_position_ramp && parseFloat(ramp_gradient) <= max_position_ramp) ? 'form-control' : 'form-control is-invalid'\" id=\"ramp_gradient\" v-model=\"ramp_gradient\">\n                    <button class='btn btn-lg' id=\"run\" v-if='!isRampRunning' @click=\"runRamp(); this.$store.dispatch('setAchievementCompleted', 'positionPid-ramp-input')\">Run</button>\n                    <button class='btn btn-lg btn-danger' v-else id=\"stop\" @click=\"stopRamp\">Stop</button>\n                </div>\n\n\n            </div>\n\n\n     </div>   \n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex';\n\nexport default {\n\n  name: 'RampCommand',\n  props:{\n      mode: String,\n  },\n  emits:['showinputtype'],\n  data () {\n    return {\n        ramp_gradient: 1.00,            \n        max_position_ramp: 6.00,\n        max_speed_ramp: 100,\n        max_voltage_ramp: 10,\n        isRampRunning: false,\n    }\n  },\n  computed:{\n      ...mapGetters([\n          'getCurrentMode'\n      ])\n  },\n  watch:{\n    \n  },\n  methods: {\n      ...mapActions([\n          'setDraggable'\n      ]),\n    runRamp(){\n\n        this.$emit('showinputtype', false);\n\n        if(this.$store.getters.getIsDataRecorderOn){\n            this.$store.dispatch('setIsRecording', true);\n        }\n\n        if(this.mode == 'positionPid'){\n            this.isRampRunning = true;\n            this.$store.dispatch('setPositionRamp', this.ramp_gradient);\n        } \n        else if(this.mode == 'speedPid'){\n            this.isRampRunning = true;\n            this.$store.dispatch('setSpeedRamp', this.ramp_gradient);\n        } \n        else if(this.mode == 'speedRaw'){\n            this.isRampRunning = true;\n            this.$store.dispatch('setVoltageRamp', this.ramp_gradient);\n        } else{\n            this.isRampRunning = false;\n            this.$store.dispatch('setIsRecording', false);\n        }\n    \n        this.$store.dispatch('addMultipleAchievement','multiple-runs');\n    },\n    stopRamp(){\n        this.isRampRunning = false;\n\n        this.$emit('showinputtype', true);\n\n        if(this.$store.getters.getIsRecording){\n            this.$store.dispatch('setIsRecording', false);\n        }\n\n        if(this.mode == 'positionPid'){\n                this.$store.dispatch('wait');\n            } else if(this.mode == 'speedRaw'){\n                this.$store.dispatch('setVoltage', 0);\n            } else {\n                this.$store.dispatch('wait');\n            }\n        \n    }\n  }\n}\n</script>\n\n<style scoped>\ninput{\n    min-width: 20%;\n    max-width: 50%;\n}\n\n.error{\n    /* border:thick solid red */\n    border: auto;\n}\n\n.error:focus{\n    /* border:thick solid red */\n    border: auto;\n}\n\n#set       {background-color: rgb(74, 223, 37);}\n#set:hover {background-color: #0b7e0f} \n\n#run       {background-color:  rgb(74, 223, 37);}\n#run:hover {background-color: #0b7e0f} \n\n\n</style>"]}]}